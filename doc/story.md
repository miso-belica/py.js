# Story behind the code

I needed to parse Python expressions in the browser because I wanted to show and allow to edit the users some expressions evaluated on the backend written in Python. The first try with Google resulted to the documentation of https://openerp-web-v7.readthedocs.io/en/stable/#py.tokenize but the `py.js` library was mysterious because I couldn't find it anywhere. After a bit of Googling I found https://bitbucket.org/masklinn/py.js but that no longer existed. But fortunately, [Web Archive crawled it](https://web.archive.org/web/20181106200409/https://bitbucket.org/masklinn/py.js) so I found some sources there. But without the license, so I couldn't use it.

After Googling a bit more I found https://gitlab.merchise.org/merchise/odoo/-/tree/master/addons/web/static/lib/py.js with my favourite license WTFPL. I found out later the project [moved to GitHub](https://github.com/odoo/odoo/tree/14.0/addons/web/static/lib/py.js).

I decided to extract the library with its history and create the repository which I can use for my purpose. With the help of [StackOverflow](https://docs.github.com/en/free-pro-team@latest/github/using-git/splitting-a-subfolder-out-into-a-new-repository) and after a few failed tries with `git filter-repo --force --prune-empty always --prune-degenerate always --subdirectory-filter addons/web/static/lib/py.parse --subdirectory-filter addons/web/static/lib/py.js --refs branch` and `git filter-repo --force --prune-empty always --prune-degenerate always --invert-paths --path .hg_archival.txt --refs branch` I was able to extract the folder with all of its history. It's not ideal with some commits deleting the all files, and the next commit adding them, but it's the best I was able to achieve.
